query GetCurrentUser @auth(level: USER) {
  user(key: { id_expr: "auth.uid" }) {
    id
    email
    name
    avatarUrl
    createdAt
    updatedAt
  }
}

query ListFiles @auth(level: USER) {
  files(where: { user: { id_expr: "auth.uid" } }) {
    id
    name
    mimeType
    size
    trashed
    starred
    owner
    shared
    parents
    webViewLink
    iconLink
    thumbnailLink
    createdAt
    modifiedAt
  }
}

query ListFolders @auth(level: USER) {
  folders(where: { user: { id_expr: "auth.uid" } }) {
    id
    name
    owner
    shared
    parents
    webViewLink
    createdAt
    modifiedAt
  }
}

query ListDuplicates @auth(level: USER) {
  duplicates(where: { user: { id_expr: "auth.uid" } }) {
    id
    files {
      id
      name
      webViewLink
    }
  }
}

query ListRecommendations @auth(level: USER) {
  recommendations(where: { user: { id_expr: "auth.uid" } }) {
    id
    file {
      id
      name
      webViewLink
    }
    action
    reason
  }
}

query GetScanJob($id: String!) @auth(level: USER) {
  scanJob(key: { id: $id }) {
    id
    status
    progress
    createdAt
    updatedAt
  }
}