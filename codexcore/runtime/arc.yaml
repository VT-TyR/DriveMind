version: 1
project_id: "drivemind"
scope: "review security audit issues and resolve"
acceptance_criteria:
  - "Zero CRITICAL vulnerabilities (SAST-001, SAST-002, DAST-001 resolved)"
  - "HSTS headers deployed with preload and 1-year max-age"
  - "OAuth refresh tokens encrypted with AES-256-GCM"
  - "Comprehensive PII redaction for AI service inputs"
  - "PKCE implementation in OAuth 2.0 flow"
  - "User context validation in all API endpoints"
  - "Content Security Policy headers implemented"
non_functional:
  performance: { p95_ms: 250, p99_ms: 500 }
  security:
    rbac_matrix_ref: "codexcore/security/rbac.yaml"
    cors: "strict"
    schema_validation: true
    zero_critical_vulnerabilities: true
    hsts_enforcement: true
    token_encryption: "AES-256-GCM"
    pii_redaction: "comprehensive"
    oauth_pkce: true
    csp_headers: true
  ops:
    health: "/health"
    metrics: "/metrics"
    graceful_shutdown: true
integration_points:
  - "Google Cloud KMS (token encryption)"
  - "Firebase security rules (user scoping)"
  - "Google Gemini AI (with PII redaction)"
deliverables:
  - "security fixes for 3 critical vulnerabilities"
  - "encrypted token storage implementation"
  - "comprehensive PII redaction system"
  - "PKCE-enabled OAuth flow"
  - "security headers configuration"
  - "updated SAST/DAST reports with zero critical findings"